name = "meauxos-api"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "meauxos"
database_id = "d8261777-9384-44f7-924d-c92247d55b46"

# R2 Bucket bindings for direct access
[[r2_buckets]]
binding = "R2_INFRA"
bucket_name = "allinfrastructure"

[[r2_buckets]]
binding = "R2_DOCS"
bucket_name = "meauxos-documents"

[[r2_buckets]]
binding = "R2_IMAGES"
bucket_name = "entireorganizationimagesandcontentbucket"

# Cloudflare Images API (requires CF_IMAGES_TOKEN secret)
# Run: wrangler secret put CF_IMAGES_TOKEN
# Create token at: https://dash.cloudflare.com/profile/api-tokens
# Permissions needed: Account > Cloudflare Images > Read

# CORS headers for dashboard access
[vars]
CORS_ORIGIN = "*"
CF_ACCOUNT_ID = "ede6590ac0d2fb7daf155b35653457b2"
